### Controlling the Browser with Selenium
Selenium lets Python directly control the browser by programmatically clicking links and filling in forms, just as a human user would. Using Selenium, you can interact with web pages in a much more advanced way than with requests and Beautiful Soup; but because it launches a web browser, it’s a bit slower and hard to run in the background.  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Still, if you need to interact with a web page in a way that, for instance, depends on the JavaScript code that updates the page, you’ll need to use Selenium instead of requests. That’s because major e-commerce websites such as Amazon almost certainly have software systems to recognize traffic that they suspect is a script harvesting their info or signing up for multiple free accounts. These sites may refuse to serve pages to you after a while, breaking any scripts you’ve made. Selenium is much more likely than requests to function on these sites long term.  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A major “tell” to websites that you’re using a script is the user-agent string, which identifies the web browser and is included in all HTTP requests. For example, the user-agent string for the requests module is something like `'python-requests/X.XX.X'`. You can visit a site such as _https://www.whatsmyua.info_ to see your user-agent string. Using Selenium, you’re much more likely to pass for human, because not only is Selenium’s user agent the same as a regular browser (for instance, `'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:108.0) Gecko/20100101 Firefox/108.0')`, but it has the same traffic patterns: a Selenium-controlled browser will download images, advertisements, cookies, and privacy-invading trackers just like a regular browser. However, websites can still find ways to detect Selenium, and major ticketing and e-commerce websites often block it to prevent the web scraping of their pages.

#### Starting a Selenium-Controlled Browser:
The following examples will show you how to control Firefox’s web browser. If you don’t already have Firefox, you can download it for free from _https://getfirefox.com_.  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Importing Selenium’s modules is slightly tricky. Instead of `import selenium`, you must run **`from selenium import webdriver`**. After that, you can launch the Firefox browser with Selenium. Enter the following into the interactive shell:
```python
from selenium import webdriver

browser = webdriver.Firefox()
type(browser)
<class 'selenium.webdriver.firefox.webdriver.WebDriver'>
browser.get('https://inventwithpython.com')
```
You’ll notice that when `webdriver.Firefox()` is called, the Firefox web browser starts up. Calling `type()` on the value `webdriver.Firefox()` reveals it’s of the WebDriver data type. And calling `browser.get('https://inventwithpython.com')` directs the browser to _https://inventwithpython.com_.  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If you encounter the error message “geckodriver executable needs to be in PATH,” you need to manually download the web driver for Firefox before you can use Selenium to control it. You can also control browsers other than Firefox if you install the web driver for them, and instead of manually downloading browser web drivers, you can use the webdriver-manager package from _https://pypi.org/project/webdriver-manager/_.
#### Clicking Browser Buttons:
Selenium can simulate clicks on various browser buttons through the following methods:
- **`browser.back()`:** Clicks the Back button
- **`browser.forward()`:** Clicks the Forward button
- **`browser.refresh()`:** Clicks the Refresh/Reload button
- **`Browser.quit()`:** Clicks the Close Window button
#### Finding Elements on the Page:
A `WebDrive`r object has the `find_element(`) and `find_elements()` methods for finding elements on a web page. The `find_element()` method returns a single `WebElement` object, representing the first element on the page that matches your query. The `find_elements()` method returns a list of `WebElement` objects for every matching element on the page.  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;You can find elements through their class name, CSS selector, ID, or another means. First, run `from selenium.webdriver.common.by import By` to get the `By` object. The `By` object has several constants you can pass to the `find_element()` and `find_elements()` methods.  

**Selenium’s By Constants for Finding Elements:**
| Constant name          |  WebElement object/list returned                                                               |
|:-----------------------|:-----------------------------------------------------------------------------------------------|
| `By.CLASS_NAME`        | Elements that use the CSS class name                                                           |
| `By.CSS_SELECTOR`      | Elements that match the CSS selector                                                           |
| `By.ID`                | Elements with a matching id attribute value                                                    |
| `By.LINK_TEXT`         | <a> elements that completely match the text provided                                           |
| `By.PARTIAL_LINK_TEXT` | <a> elements that contain the text provided                                                    |
| `By.NAME`              | Elements with a matching name attribute value                                                  |
| `By.TAG_NAME`          | Elements with a matching tag name (case-insensitive; an <a> element is matched by 'a' and 'A') |

If no elements exist on the page that match what the method is looking for, Selenium raises a `NoSuchElement` exception. If you do not want this exception to crash your program, add `try` and `except` statements to your code.  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Once you have the `WebElement` object, you can learn more about it by reading the attributes or calling the methods below.

**WebElement Attributes and Methods:**
| Attribute or method   |   Description                                                                                                                                                                                            |
|:----------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `tag_name`            | The tag name, such as 'a' for an <a> element                                                                                                                                                             |
| `get_attribute(name)` |  The value for the element’s name attribute, like href in an <a> element                                                                                                                                 |
| `get_property(name)`  | The value for the element’s property, which does not appear in the HTML code . Some examples of HTML properties are innerHTML and innerText                                                              |
| `text`                |  The text within the element, such as 'hello' in the following: <span>hello</span>                                                                                                                       |
| `clear()`             |  For text field or text area elements, clears the text entered  into it                                                                                                                                  |
| `is_displayed()`      | Returns True if the element is visible; otherwise, returns False                                                                                                                                         |
| `is_enabled()`        |  For input elements, returns True if the element is enabled; otherwise, returns False                                                                                                                    |
| `is_selected()`       | Elements with a matching tag name (case-insensitive; an <a> element is matched by 'a' and 'A') For checkbox or radio button elements, returns True if the element is selected; otherwise, returns False  |
| `location`            |  A dictionary with keys 'x' and 'y' for the position of the element in the page                                                                                                                          |
| `size`                |  A dictionary with keys 'width' and 'height' for the size of the element in the page                                                                                                                     |
